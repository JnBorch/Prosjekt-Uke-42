const int button1 = 2; 
const int button2 = 3; 
const int led1 = 9;    
const int led2 = 8;    
const int buzzer = 10;  

int player1Score = 0;         
int player2Score = 0;         

void setup() {
  Serial.begin(9600);
  pinMode(button1, INPUT); 
  pinMode(button2, INPUT); 
  pinMode(led1, OUTPUT);  
  pinMode(led2, OUTPUT);  
  pinMode(buzzer, OUTPUT); 
}

void loop() {
  long currentTime = millis(); // Get the current time
  long randomInterval = random(1000, 10000);  // Generate a new random time before the next buzzer sound
  long buzzerTime = currentTime + randomInterval; // Update the time for the next buzzer sound
  bool start = true;
  
  while (start) {
    if (millis() >= buzzerTime) {
      tone(buzzer, 500); 
      if (digitalRead(button1) == HIGH) {
        player1Score++;            
        digitalWrite(led1, HIGH);  
        delay(500);               
        digitalWrite(led1, LOW);   
        Serial.println("Player 1: " + String(player1Score) + " | Player 2: " + String(player2Score));
        noTone(buzzer);            
        start = false;
      } else if (digitalRead(button2) == HIGH) {
        // Player 2 pressed button 2 first
        player2Score++;            
        digitalWrite(led2, HIGH);  
        delay(500);               
        digitalWrite(led2, LOW);   
        Serial.println("Player 1: " + String(player1Score) + " | Player 2: " + String(player2Score));
        noTone(buzzer);            
        start = false;
      }
    }
  }
}
